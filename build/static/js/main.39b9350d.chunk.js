(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),u=n.n(r),l=n(13),o=n.n(l),c=function(e){var t=e.filterVal,n=e.setter;return u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,"Filter this query"),u.a.createElement("form",null,u.a.createElement("input",{value:t,onChange:function(e){n(e.target.value)}})))},s=n(3),m=n.n(s),i=function(e,t){var n=t.find((function(t){return t.name==e.name}));return n?m.a.put("/api/persons/"+n.id,e):m.a.post("/api/persons",e)},f=function(){return m.a.get("/api/persons").then((function(e){return e.data}))},b=function(e){m.a.delete("/api/persons/"+e,e).then((function(e){}))},d=function(e){var t=e.persons,n=e.setPersons;return u.a.createElement(u.a.Fragment,null,u.a.createElement("ul",null,t.map((function(e){return u.a.createElement("li",{key:e.name},e.name," ",e.number,u.a.createElement("button",{type:"button",onClick:(a=e.id,r=e.name,function(){window.confirm("Are you sure you want to delete ".concat(r,"?"))&&(n(t.filter((function(e){return e.id!=a}))),b(a))})},"Delete"));var a,r}))))},p=function(e){var t=e.name,n=e.message;return""===n?null:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{class:"message"},n+" "+t))},E=function(e){var t=e.name,n=e.message;return""===n?null:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{class:"error_message"},n+" "+t))},v=function(e){var t=e.setNewName,n=e.setNumber,l=e.newName,o=e.newNumber,c=e.persons,s=e.setPersons,m=Object(r.useState)(""),f=Object(a.a)(m,2),b=f[0],d=f[1],v=Object(r.useState)(""),h=Object(a.a)(v,2),g=h[0],w=h[1],j=Object(r.useState)(""),O=Object(a.a)(j,2),y=O[0],N=O[1];return u.a.createElement("div",null,u.a.createElement("h1",null,"Phonebook"),u.a.createElement(E,{name:y,message:g}),u.a.createElement(p,{name:y,message:b}),u.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={name:l,number:o};if(o&&l)if(c.find((function(e){return e.name===t.name}))){var n="".concat(t.name," is already in database.  Would you like to replace this number with a new one?");if(window.confirm(n)){s(c.map((function(e){return e.name===t.name?t:e})));i(t,c).then(N(l)).then(d("Succesfully updated")).then(setTimeout((function(){d(""),N("")}),5e3)).catch((function(e){w("Already deleted from Phonebook:"),setTimeout((function(){w(""),d(""),N("")}),5e3)}))}}else{s(c.concat(t));i(t,c).then(N(l)).then(d("Sucesfully added")).then(setTimeout((function(){d(""),N("")}),5e3))}else alert("Please enter both a number and name")}},u.a.createElement("div",null,"name:",u.a.createElement("input",{value:l,onChange:function(e){console.log(e.target.value),t(e.target.value)}})),u.a.createElement("div",null,"number:",u.a.createElement("input",{value:o,onChange:function(e){n(e.target.value)}})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add"))))},h=(n(36),function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],l=t[1],o=Object(r.useState)(""),s=Object(a.a)(o,2),m=s[0],i=s[1],b=Object(r.useState)(""),p=Object(a.a)(b,2),E=p[0],h=p[1],g=Object(r.useState)(""),w=Object(a.a)(g,2),j=w[0],O=w[1];console.log("personsServer.getAll...",f()),Object(r.useEffect)((function(){f().then((function(e){l(e)}))}),[]);var y=""===j?n:n.filter((function(e){return t=e.name,n=j,t.toLowerCase().startsWith(n.toLowerCase());var t,n}));return u.a.createElement("div",null,u.a.createElement(c,{filterVal:j,setter:O}),u.a.createElement(v,{setNewName:i,setNumber:h,newName:m,persons:n,setPersons:l,newNumber:E}),u.a.createElement("h2",null," Numbers"),u.a.createElement(d,{persons:y,setPersons:l}))});o.a.render(u.a.createElement(h,null),document.getElementById("root"));t.default=h}},[[14,1,2]]]);
//# sourceMappingURL=main.39b9350d.chunk.js.map